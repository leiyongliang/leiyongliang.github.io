<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta charset='utf-8'>
    	<meta name="keywords" content="雨天"/>
    	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
        <title>Rainy Day</title>
        <link rel="stylesheet" href="./style.css">
        <script src="https://unpkg.com/vue"></script>
    	<script src="https://cdn.bootcss.com/rainyday.js/0.1.2/rainyday.min.js"></script>
    </head>
    <body>
        <div class="container">
        	<img id="background" alt="background" src="" />
        </div>
        <div class="app" id="app">
             <transition name="slide">
                <div class="title" v-if = "titleState">
                    {{title}}
                </div>
            </transition>
        </div>
    </body>
    <script>
        var image = document.getElementById('background')
        image.crossOrigin = 'anonymous'
        image.src = 'http://i.imgur.com/N7ETzFO.jpg'
        image.onload = function() {
            engine = new RainyDay({
                image: this,
            });
            engine.rain([ [3, 3, 0.88], [5, 5, 0.9], [6, 2, 1] ], 100)
            // engine.rain([ [3, 2, 2] ], 100);
        };
        var vm = new Vue({
            el: '#app',
            data: {
                titleState: false,
                title : '你有多久没有听过一场雨了'
            },
            mounted () {
                this.titleState = true
                setTimeout(() => {
                    this.titleState = false
                },10000)
            }
        })
    </script>
</html>
